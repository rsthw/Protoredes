<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="UTF-8"/>
        <title>Sign-Up/Login Form</title>
        <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>


        <link rel="stylesheet" href="css/style.css"/>


    </h:head>

    <h:body>
        <div class="form">

            <ul class="tab-group">
                <li class="tab active"><a href="#signup">Sign Up</a></li>
                <li class="tab"><a href="#login">Log In</a></li>
            </ul>

            <div class="tab-content">

                <div id="signup">   
                    <h1>Registra tus datos</h1>

                    <h:form>
                            <div class="field-wrap">
                                <h:outputText value = "Usuario" style ="color:white" />
                                <p:inputText id="usuarioregistro" value="#{usuarioReg.usuario.username}" required="true" style="width:100%"></p:inputText>
                                <h:outputText value = "Contraseña" style="color:white"/>
                                <p:password id="contrasenausuario" value="#{usuarioReg.usuario.contrasena}"  feedback="false" required="true" style="width:100%"></p:password>
                            </div>
                            
                            <div class="field-wrap">
                                <h:outputText value = "Correo" style ="color:white" />
                                <p:inputText id="usuario2" value="#{usuarioReg.correo.correo}" required="true" style="width:100%"></p:inputText>
                                <h:outputText value = "Contraseña" style="color:white"/>
                                <p:password id="password" value="#{usuarioReg.correo.contrasena}"  feedback="false" required="true" style="width:100%"></p:password>
                            </div>
                            
                            <div class="field-wrap">
                                <h:outputText value = "Numero de tarjeta" style ="color:white" />
                                <p:inputText id="numerotarjeta" value="#{usuarioReg.tarjeta.numeroTarjeta}" required="true" style="width:100%"></p:inputText>
                                <h:outputText value = "Fecha" style="color:white"/>
                                <p:password id="nip" value="#{usuarioReg.tarjeta.nip}"  feedback="false" required="true" style="width:100%"></p:password>
                                <h:outputText value = "Digitos al reverso" style="color:white"/>
                                <p:password id="digitosreverso" value="#{usuarioReg.tarjeta.digitosReverso}"  feedback="false" required="true" style="width:100%"></p:password>
                            </div>
                            
                            
                            
                        <p:commandButton action="#{usuarioReg.registraUsuario}" styleClass="mygreen" value="Registrate" ajax="false" class="button button-block"/>
                            <p class="forgot"><a href="#">Forgot Password?</a></p>
                    </h:form>


                </div>

                <div id="login">   
                    <h1>Ingresa</h1>

                    <h:form>
                            <div class="field-wrap">
                                <h:outputText value = "Usuario" style ="color:white" />
                                <p:inputText id="usuario2" value="#{usuarioDAO.correo}" required="true" style="width:100%"></p:inputText>
                                <h:outputText value = "Contraseña" style="color:white"/>
                                <p:password id="password" value="#{usuarioDAO.password}"  feedback="false" required="true" style="width:100%"></p:password>
                            </div>
                            
                            <p:commandButton action="#{usuarioDAO.iniciarSesion}" styleClass="mygreen" value="Login" ajax="false" class="button button-block"/>
                            <p class="forgot"><a href="#">Forgot Password?</a></p>
                    </h:form>

                </div>

            </div><!-- tab-content -->

        </div> <!-- /form -->
        <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

        <script  src="js/index.js"></script>

        <script type="text/javascript">
            if ("#{usuarioDAO.name}".length > 0) {
                window.location.href = 'index.xhtml';
            }
        </script>

    </h:body>
</html>
